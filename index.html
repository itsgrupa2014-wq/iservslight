
<!DOCTYPE html>
<html lang="lv">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Infoservs — Lineārais gaismeklis (konfigurators)</title>

  <!-- CSS -->
  <link rel="stylesheet" href="WebGL skatītājs) -->
  <script src="https://unpkg.com/three@0.hree.min.js</script>

  <!-- Tavi skripti -->
  pricing.js</script>
  ral-colors.js</script>
  <ain.js</script>
</head>
<body>
  <header class="top">
    <h1>Lineārie LED gaismekļi — konfigurators</h1>
    <p>230V ar iebūvētu pārveidotāju · Garumi: 600 / 1200 / 1800 / 2400 / 3000 · CCT: 3000K / 4000K</p>
  </header>

  <main class="wrap">
    <!-- WebGL skatītājs -->
    <section class="viewer-wrap">
      <canvas id="viewer"></canvas>
    </section>

    <!-- Vadības panelis -->
    <section class="panel">
      <h2>Konfigurācija</h2>

      <div class="row">
        <label>Garums</label>
        <div class="options" id="lengths">
          <button data-l="600">600 mm</button>
          <button data-l="1200" class="active">1200 mm</button>
          <button data-l="1800">1800 mm</button>
          <button data-l="2400">2400 mm</button>
          <button data-l="3000">3000 mm</button>
        </div>
      </div>

      <div class="row">
        <label>CCT (Krāsas temperatūra)</label>
        <div class="options" id="cct">
          <label class="opt"><input type="radio" name="cct" value="3000" checked> 3000K</label>
          <label class="opt"><input type="radio" name="cct" value="4000"> 4000K</label>
        </div>
      </div>

      <div class="row">
        <label>Vadība</label>
        <div class="options">
          <label class="opt"><input type="checkbox" id="dali"> DALI</label>
          <span class="note">Pagaidām bez piemaksas</span>
        </div>
      </div>

      <div class="row">
        <label>Montāža</label>
        <div class="options">
          <label class="opt"><input type="checkbox" id="suspend"> Ar trosītēm (piekare)</label>
        </div>
      </div>

      <div class="row">
        <label>Korpusa krāsa (RAL)</label>
        <div class="options">
          <button class="ral-btn" data-ral="RAL9003" style="background:#F5F5F5;color:#111;">RAL9003</button>
          <button class="ral-btn" data-ral="RAL9005" style="background:#0A0A0A;">RAL9005</button>
          <button class="ral-btn" data-ral="ANODIZED" style="background:#B0B0B0;color:#111;">ANODIZED</button>
          <input type="text" id="ralInput" placeholder="Ievadi RAL, piem. RAL9010" />
        </div>
        <div id="ralList" class="options"></div>
        <div class="note">Ekrānā redzamās RAL krāsas ir aptuvenas.</div>
      </div>

      <div class="summary">
        <div><strong>Cena (bez PVN):</strong> <span id="price">—</span></div>
        <div><strong>Jauda (apr.):</strong> <span id="power">—</span> W</div>
        <div><strong>SKU:</strong> <span id="sku">—</span></div>
      </div>

      <div class="cta">
        <button id="downloadSpec">Lejupielādēt specifikāciju</button>
        <button class="secondary" id="requestQuote">Pasūtīt ar uzstādīšanu</button>
      </div>
    </section>
  </main>

  <!-- PNG fallback (ja WebGL nav) -->
  <section class="fallback">
    assets/img/linear_base.png?v=1
    <div id="assetsCheck" class="note"></div>
  </section>

  <!-- Pilna RAL ielāde (lokālais + CDN) -->
  <script>
    (function loadFullRal() {
      const localUrl = 'assets/data/ral-classic.json';
